<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Script Loader</title>
    <script>
        // Function to dynamically load a script
        function loadScript(scriptId) {
            // Remove any existing dynamic script
            const existingScript = document.getElementById('dynamicScript');
            if (existingScript) {
                existingScript.remove();
            }

            // Remove any existing inline init script
            const existingInitScript = document.getElementById('dynamicInitScript');
            if (existingInitScript) {
                existingInitScript.remove();
            }

            // Create the init script dynamically
            const initScript = document.createElement('script');
            initScript.id = 'dynamicInitScript';
            initScript.type = 'text/javascript';

            // Create the external script dynamically
            const script = document.createElement('script');
            script.id = 'dynamicScript';
            script.type = 'text/javascript';

            if (scriptId === 1) {
                initScript.innerHTML = `
                    function initEmbeddedMessaging() {
                        try {
                            embeddedservice_bootstrap.settings.language = 'en_US';
                            embeddedservice_bootstrap.init(
                                '00Dal00000jLk2l',
                                'Mobeen_ASA_Embedded_Service',
                                'https://storm-eb6548a9d90757.my.site.com/ESWMobeenASAEmbeddedSe1734103431533',
                                { scrt2URL: 'https://storm-eb6548a9d90757.my.salesforce-scrt.com' }
                            );
                        } catch (err) {
                            console.error('Error loading Embedded Messaging: ', err);
                        }
                    };
                `;
                script.src = 'https://storm-eb6548a9d90757.my.site.com/ESWMobeenASAEmbeddedSe1734103431533/assets/js/bootstrap.min.js';
                script.onload = 'initEmbeddedMessaging()';
            } else if (scriptId === 2) {
                initScript.innerHTML = `
                    function initEmbeddedMessaging() {
                        try {
                            embeddedservice_bootstrap.settings.language = 'en_US';
                            embeddedservice_bootstrap.init(
                                '00Dal00000jLk2l',
                                'Github',
                                'https://storm-eb6548a9d90757.my.site.com/ESWGithub1731084100499',
                                { scrt2URL: 'https://storm-eb6548a9d90757.my.salesforce-scrt.com' }
                            );
                        } catch (err) {
                            console.error('Error loading Embedded Messaging: ', err);
                        }
                    };
                `;
                script.src = 'https://storm-eb6548a9d90757.my.site.com/ESWGithub1731084100499/assets/js/bootstrap.min.js';
                script.onload = 'initEmbeddedMessaging()';
            }

            // Append the scripts to the body
            document.body.appendChild(initScript);
            document.body.appendChild(script);
        }
    </script>
</head>
<body>
    <h1>Dynamic Script Loader</h1>
    <button onclick="loadScript(1)">Load Script 1</button>
    <button onclick="loadScript(2)">Load Script 2</button>

    <!-- Placeholder for dynamically loaded scripts -->
</body>
</html>
</html>
